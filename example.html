<!doctype html>
<html>
    <head>
        <title>An example</title>
        <meta charset="utf-8" />
    </head>
    <body>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
        <script src="orderlyqueue.js"></script>
        <script>
            $(function () {
                var orderly = new Orderly();
                
                // Use an orderly queue to asyncronously
                // process an array of anything
                orderly.queue(['Hello', 'Goodbye'])
                    // Use the process method to define
                    // what you want to do to each array
                    // item, then hand back the finished
                    // value using handle()
                    .process(function (str, handle) {
                        handle(str + " Bob!");
                    })
                    // Define a complete function which
                    // receives the final array in it's
                    // original order
                    .complete(function (finalArr) {
                        console.log('OnComplete:', finalArr);
                    });

                // Let's do some AJAX
                orderly.queue(['fixtures/a.php', 'fixtures/b.php'])
                    // Use jQuery's GET AJAX method
                    .process($.get)
                    // Even though fixtures/a.php has a timeout
                    // we still receive the html in the order [a, b]
                    .complete(function (data) {
                        data = data.join("\n");
                        $('body').append(data);
                        console.log('OnComplete:', data);
                    });
            });
        </script>
    </body>
</html>